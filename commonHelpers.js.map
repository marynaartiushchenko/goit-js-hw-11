{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n      import SimpleLightbox from \"simplelightbox\";\n      import \"simplelightbox/dist/simple-lightbox.min.css\";\n\n      const apiKey = \"41734083-bc7e7acddd543bb8e35e20b9d\";\n      const searchForm = document.getElementById(\"search-form\");\n      const searchInput = document.getElementById(\"search-input\");\n      const galleryContainer = document.getElementById(\"gallery\");\n      const loader = document.getElementById(\"loader\");\n\n const lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n      searchForm.addEventListener(\"submit\", async (event) => {\n        event.preventDefault();\n\n        const query = searchInput.value.trim();\n\n        if (!query) {\n          iziToast.error({\n            title: \"Error\",\n            message: \"Please enter a search query.\",\n            position: \"topRight\",\n          });\n          return;\n        }\n\n        loader.style.display = \"block\";\n\n        try {\n          const response = await fetch(`https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`);\n          const data = await response.json();\n\n          if (data.hits && data.hits.length > 0) {\n            const images = data.hits.map((hit) => ({\n              url: hit.webformatURL,\n              alt: hit.tags,\n              largeUrl: hit.largeImageURL,\n              likes: hit.likes,\n              views: hit.views,\n              comments: hit.comments,\n              downloads: hit.downloads,\n            }));\n\n            updateGallery(images);\n          } else {\n            iziToast.info({\n              title: \"Info\",\n              message: \"Sorry, there are no images matching your search query. Please try again!\",\n              position: \"topRight\",\n            });\n          }\n        } catch (error) {\n          console.error(\"Error fetching data:\", error);\n          iziToast.error({\n            title: \"Error\",\n            message: \"An error occurred while fetching data. Please try again later.\",\n            position: \"topRight\",\n          });\n        } finally {\n          loader.style.display = \"none\";\n        }\n      });\n\n     function updateGallery(images) {\n        // Clear existing gallery content\n         galleryContainer.innerHTML = \"\";\n\n  const galleryMarkup = images\n    .map(\n      (image) => `\n        <a href=\"${image.largeUrl}\" data-lightbox=\"gallery\" data-title=\"Likes: ${image.likes}, Views: ${image.views}, Comments: ${image.comments}, Downloads: ${image.downloads}\">\n          <img src=\"${image.url}\" alt=\"${image.alt}\" />\n        </a>\n      `\n    )\n    .join('');\n\n  galleryContainer.innerHTML = galleryMarkup;\n\n        // Refresh the lightbox after updating the gallery\n  lightbox.refresh();\n}\n"],"names":["apiKey","searchForm","searchInput","galleryContainer","loader","lightbox","SimpleLightbox","event","query","iziToast","data","images","hit","updateGallery","error","galleryMarkup","image"],"mappings":"6vBAKM,MAAMA,EAAS,qCACTC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAmB,SAAS,eAAe,SAAS,EACpDC,EAAS,SAAS,eAAe,QAAQ,EAE9CC,EAAW,IAAIC,EAAe,aAAc,CACjD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKL,EAAW,iBAAiB,SAAU,MAAOM,GAAU,CACrDA,EAAM,eAAc,EAEpB,MAAMC,EAAQN,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACM,EAAO,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UACtB,CAAW,EACD,MACD,CAEDL,EAAO,MAAM,QAAU,QAEvB,GAAI,CAEF,MAAMM,EAAO,MADI,MAAM,MAAM,gCAAgCV,OAAYQ,2DAA+D,GAC5G,OAE5B,GAAIE,EAAK,MAAQA,EAAK,KAAK,OAAS,EAAG,CACrC,MAAMC,EAASD,EAAK,KAAK,IAAKE,IAAS,CACrC,IAAKA,EAAI,aACT,IAAKA,EAAI,KACT,SAAUA,EAAI,cACd,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,EAEFC,EAAcF,CAAM,CAChC,MACYF,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,2EACT,SAAU,UACxB,CAAa,CAEJ,OAAQK,EAAP,CACA,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CL,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iEACT,SAAU,UACtB,CAAW,CACX,QAAkB,CACRL,EAAO,MAAM,QAAU,MACxB,CACT,CAAO,EAEF,SAASS,EAAcF,EAAQ,CAE3BR,EAAiB,UAAY,GAEpC,MAAMY,EAAgBJ,EACnB,IACEK,GAAU;AAAA,mBACEA,EAAM,wDAAwDA,EAAM,iBAAiBA,EAAM,oBAAoBA,EAAM,wBAAwBA,EAAM;AAAA,sBAChJA,EAAM,aAAaA,EAAM;AAAA;AAAA,OAG1C,EACA,KAAK,EAAE,EAEVb,EAAiB,UAAYY,EAG7BV,EAAS,QAAO,CAClB"}