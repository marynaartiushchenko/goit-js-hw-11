{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n      import SimpleLightbox from \"simplelightbox\";\n      import \"simplelightbox/dist/simple-lightbox.min.css\";\n\n      const apiKey = \"41734083-bc7e7acddd543bb8e35e20b9d\";\n      const searchForm = document.getElementById(\"search-form\");\n      const searchInput = document.getElementById(\"search-input\");\n      const galleryContainer = document.getElementById(\"gallery\");\n      const loader = document.getElementById(\"loader\");\n\nconst lightbox = new SimpleLightbox();\n\n      searchForm.addEventListener(\"submit\", async (event) => {\n        event.preventDefault();\n\n        const query = searchInput.value.trim();\n\n        if (!query) {\n          iziToast.error({\n            title: \"Error\",\n            message: \"Please enter a search query.\",\n            position: \"topRight\",\n          });\n          return;\n        }\n\n        loader.style.display = \"block\";\n\n        try {\n          const response = await fetch(`https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`);\n          const data = await response.json();\n\n          if (data.hits && data.hits.length > 0) {\n            const images = data.hits.map((hit) => ({\n              url: hit.webformatURL,\n              alt: hit.tags,\n              largeUrl: hit.largeImageURL,\n              likes: hit.likes,\n              views: hit.views,\n              comments: hit.comments,\n              downloads: hit.downloads,\n            }));\n\n            updateGallery(images);\n          } else {\n            iziToast.info({\n              title: \"Info\",\n              message: \"Sorry, there are no images matching your search query. Please try again!\",\n              position: \"topRight\",\n            });\n          }\n        } catch (error) {\n          console.error(\"Error fetching data:\", error);\n          iziToast.error({\n            title: \"Error\",\n            message: \"An error occurred while fetching data. Please try again later.\",\n            position: \"topRight\",\n          });\n        } finally {\n          loader.style.display = \"none\";\n        }\n      });\n\n      function updateGallery(images) {\n        // Clear existing gallery content\n        galleryContainer.innerHTML = \"\";\n\n        images.forEach((image) => {\n          const imageElement = document.createElement(\"a\");\n          imageElement.href = image.largeUrl;\n          imageElement.dataset.lightbox = \"gallery\";\n          imageElement.dataset.title = `Likes: ${image.likes}, Views: ${image.views}, Comments: ${image.comments}, Downloads: ${image.downloads}`;\n\n          const img = document.createElement(\"img\");\n          img.src = image.url;\n          img.alt = image.alt;\n\n          imageElement.appendChild(img);\n          galleryContainer.appendChild(imageElement);\n        });\n\n        // Refresh the lightbox after updating the gallery\n        lightbox.refresh();\n      }"],"names":["apiKey","searchForm","searchInput","galleryContainer","loader","lightbox","SimpleLightbox","event","query","iziToast","data","images","hit","updateGallery","error","image","imageElement","img"],"mappings":"wvBAKM,MAAMA,EAAS,qCACTC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAmB,SAAS,eAAe,SAAS,EACpDC,EAAS,SAAS,eAAe,QAAQ,EAE/CC,EAAW,IAAIC,EAEfL,EAAW,iBAAiB,SAAU,MAAOM,GAAU,CACrDA,EAAM,eAAc,EAEpB,MAAMC,EAAQN,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACM,EAAO,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UACtB,CAAW,EACD,MACD,CAEDL,EAAO,MAAM,QAAU,QAEvB,GAAI,CAEF,MAAMM,EAAO,MADI,MAAM,MAAM,gCAAgCV,OAAYQ,2DAA+D,GAC5G,OAE5B,GAAIE,EAAK,MAAQA,EAAK,KAAK,OAAS,EAAG,CACrC,MAAMC,EAASD,EAAK,KAAK,IAAKE,IAAS,CACrC,IAAKA,EAAI,aACT,IAAKA,EAAI,KACT,SAAUA,EAAI,cACd,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,EAEFC,EAAcF,CAAM,CAChC,MACYF,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,2EACT,SAAU,UACxB,CAAa,CAEJ,OAAQK,EAAP,CACA,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CL,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iEACT,SAAU,UACtB,CAAW,CACX,QAAkB,CACRL,EAAO,MAAM,QAAU,MACxB,CACT,CAAO,EAED,SAASS,EAAcF,EAAQ,CAE7BR,EAAiB,UAAY,GAE7BQ,EAAO,QAASI,GAAU,CACxB,MAAMC,EAAe,SAAS,cAAc,GAAG,EAC/CA,EAAa,KAAOD,EAAM,SAC1BC,EAAa,QAAQ,SAAW,UAChCA,EAAa,QAAQ,MAAQ,UAAUD,EAAM,iBAAiBA,EAAM,oBAAoBA,EAAM,wBAAwBA,EAAM,YAE5H,MAAME,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMF,EAAM,IAChBE,EAAI,IAAMF,EAAM,IAEhBC,EAAa,YAAYC,CAAG,EAC5Bd,EAAiB,YAAYa,CAAY,CACnD,CAAS,EAGDX,EAAS,QAAO,CACxB"}